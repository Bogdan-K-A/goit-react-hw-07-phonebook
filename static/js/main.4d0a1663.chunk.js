(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{12:function(t,e,n){t.exports={form:"ContactForm_form__r0Zp5",roundedInput:"ContactForm_roundedInput__2fVTS",btnForm:"ContactForm_btnForm__Eook3"}},15:function(t,e,n){t.exports={contactItem:"ContactElem_contactItem__2_Spf",btnItem:"ContactElem_btnItem__13hAt"}},18:function(t,e,n){t.exports={filterInput:"ContactFilter_filterInput__3upps",filterInputBox:"ContactFilter_filterInputBox__1T2QP"}},23:function(t,e,n){t.exports={container:"Container_container__21FG7"}},25:function(t,e,n){t.exports={center:"Spinner_center__2wPTt"}},39:function(t,e,n){},42:function(t,e,n){"use strict";n.r(e);var c,a=n(0),r=n.n(a),o=n(13),s=n.n(o),i=n(4),u=n(27),d=n(8),l=n(1),b=n(22),j=Object(l.createAction)("contactsFilter"),m=Object(l.createReducer)("",Object(d.a)({},j,(function(t,e){return e.payload}))),p=n(21),h=n(7),f=Object(p.a)({reducerPath:"contactApi",baseQuery:Object(h.d)({baseUrl:"https://61ec322ef3011500174d20fc.mockapi.io"}),tagTypes:["Contact"],endpoints:function(t){return{fetchContacts:t.query({query:function(){return"/contacts"},providesTags:["Contact"]}),addContact:t.mutation({query:function(t){return{url:"/contacts",method:"POST",body:{name:t.name,number:t.number}}},invalidatesTags:["Contact"]}),deleteContact:t.mutation({query:function(t){return{url:"contacts/".concat(t),method:"DELETE"}},invalidatesTags:["Contact"]})}}}),O=f.useFetchContactsQuery,x=f.useAddContactMutation,_=f.useDeleteContactMutation,C=Object(l.configureStore)({reducer:(c={},Object(d.a)(c,f.reducerPath,f.reducer),Object(d.a)(c,"filter",m),c),middleware:function(t){return[].concat(Object(u.a)(t()),[f.middleware])}});Object(b.setupListeners)(C.dispatch);n(39);var v=n(23),g=n.n(v),y=n(2),F=function(t){var e=t.children;return Object(y.jsx)("div",{className:g.a.container,children:e})},I=n(10),w=n(12),N=n.n(w);function k(t){var e=t.contacts,n=Object(a.useState)(""),c=Object(I.a)(n,2),r=c[0],o=c[1],s=Object(a.useState)(""),i=Object(I.a)(s,2),u=i[0],d=i[1],l=x(),b=Object(I.a)(l,1)[0],j=function(t){var e=t.target,n=e.name,c=e.value;switch(n){case"name":o(c);break;case"number":d(c);break;default:return}};return Object(y.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),e.find((function(t){return t.name===r})))return alert("\u0422\u0430\u043a\u043e\u0439 \u043a\u043e\u043d\u0442\u0430\u043a\u0442 \u0443\u0436\u0435 \u0435\u0441\u0442\u044c \u0432 \u0441\u043f\u0438\u0441\u043a\u0435"),e;b({name:r,number:u}),o(""),d("")},className:N.a.form,children:[Object(y.jsx)("label",{children:Object(y.jsx)("input",{className:N.a.roundedInput,type:"text",name:"name",value:r,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",placeholder:"Name:",required:!0,onChange:j})}),Object(y.jsx)("label",{children:Object(y.jsx)("input",{className:N.a.roundedInput,type:"tel",value:u,name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",placeholder:"Tel:",required:!0,onChange:j})}),Object(y.jsx)("button",{type:"submit",className:N.a.btnForm,children:"Add contact"})]})}var A=n(24),T=n(15),S=n.n(T),E=function(t){var e=t.id,n=t.name,c=t.number,a=_(),r=Object(I.a)(a,1)[0];return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("p",{children:[n,": ",c]}),Object(y.jsx)("button",{className:S.a.btnItem,type:"button",onClick:function(){r(e)},children:"Delete"})]})},P=function(t){return t.filter},q=function(t){var e=t.contacts,n=Object(i.e)(P),c=function(){var t=n.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(t)}))}();return Object(y.jsx)("ul",{children:c.map((function(t){return Object(y.jsx)("li",{className:S.a.contactItem,children:Object(y.jsx)(E,Object(A.a)({},t))},t.id)}))})},B=n(18),z=n.n(B),D=function(){var t=Object(i.d)();return Object(y.jsx)("label",{className:z.a.filterInputBox,children:Object(y.jsx)("input",{className:z.a.filterInput,placeholder:"Find contacts by name",type:"text",onChange:function(e){return n=e.target.value,t(j(n));var n}})})},L=(n(41),n(26)),M=n(25),Z=n.n(M),J=function(){return Object(y.jsx)("div",{className:Z.a.center,children:Object(y.jsx)(L.a,{color:"#00BFFF",height:50,width:50})})};function Q(){var t=O(),e=t.data,n=t.isFetching;return Object(y.jsxs)(F,{children:[Object(y.jsx)("h1",{children:"Phoneboock"}),Object(y.jsx)(k,{contacts:e}),Object(y.jsx)("h2",{children:"Contacts"}),Object(y.jsx)(D,{}),e&&Object(y.jsx)(q,{contacts:e}),n&&Object(y.jsx)(J,{})]})}s.a.render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(i.a,{store:C,children:Object(y.jsx)(Q,{})})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.4d0a1663.chunk.js.map